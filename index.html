<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>跨境电商选品：王文明的沙发（Sofa）数据建模流程 | Single‑File</title>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js"></script>
  <style>
    :root{
      --bg:#0f172a;         /* slate-900 */
      --panel:#111827ee;    /* gray-900 */
      --muted:#94a3b8;      /* slate-400 */
      --text:#e5e7eb;       /* gray-200 */
      --brand:#22d3ee;      /* cyan-400 */
      --accent:#a78bfa;     /* violet-400 */
      --ok:#34d399;         /* emerald-400 */
      --warn:#f59e0b;       /* amber-500 */
      --bad:#f87171;        /* red-400 */
      --card:#0b1224;       /* deep panel */
      --chip:#1f2937;       /* gray-800 */
      --code:#0a0f1f;       /* code bg */
      --br:18px;
      --shadow:0 10px 35px rgba(0,0,0,.35);
      --highlight: #1e40af;
      --border: #1f2a44;
      --secondary-bg: #0c1326;
      --link-color: #60a5fa;
      --hover-bg: #132045;
    }
    html,body{background:linear-gradient(180deg,#0a0f1f 0%, #0f172a 60%, #0b1324 100%); color:var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; margin:0; line-height: 1.5;}
    .wrap{max-width:1400px;margin:0 auto;padding:28px;}
    header{display:grid;grid-template-columns:1fr auto;gap:18px;align-items:center;margin:10px 0 20px; padding: 20px; background: var(--secondary-bg); border-radius: var(--br); box-shadow: var(--shadow);}
    .title{font-size:28px;line-height:1.15;font-weight:800;letter-spacing:.2px; color: var(--brand);}
    .subtitle{color:var(--muted);font-size:16px; font-style: italic;}
    .badges{display:flex;gap:8px;flex-wrap:wrap; justify-content: flex-end;}
    .chip{background:var(--chip);color:#d1d5db;padding:6px 10px;border-radius:999px;font-size:12px;border:1px solid #2b3444; transition: all 0.3s;}
    .chip:hover { background: var(--hover-bg); transform: scale(1.05); }

    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .card{grid-column:span 12;background:linear-gradient(180deg,#0f172a, #0c1326);border:1px solid var(--border);border-radius:var(--br);box-shadow:var(--shadow);padding:18px; opacity:0; transform:translateY(20px); transition: transform 0.5s, opacity 0.5s;}
    .card:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0,0,0,.45); }
    @media(min-width:600px){.span-3{grid-column:span 3}.span-4{grid-column:span 4}.span-6{grid-column:span 6}.span-8{grid-column:span 8}.span-9{grid-column:span 9}}
    @media(min-width:800px){.span-3{grid-column:span 3}.span-4{grid-column:span 4}.span-6{grid-column:span 6}.span-8{grid-column:span 8}}
    @media(min-width:1200px){.span-2{grid-column:span 2}.span-5{grid-column:span 5}.span-7{grid-column:span 7}.span-10{grid-column:span 10}}

    h1 { font-size: 32px; margin: 20px 0; color: var(--brand); text-align: center; }
    h2{font-size:20px;margin:0 0 10px; color: #dbeafe; border-bottom: 1px solid var(--border); padding-bottom: 5px;}
    h3{font-size:16px;margin:12px 0 8px;color:#dbeafe; font-weight: 600;}
    p,li{font-size:14px;color:#cbd5e1; margin: 10px 0;}
    ul{margin:8px 0 0 18px; list-style-type: disc;}
    ol { margin:8px 0 0 18px; list-style-type: decimal; }
    .hint{font-size:12px;color:var(--muted); font-style: italic;}

    .flow{display:flex;flex-wrap:wrap;gap:10px;margin-top:8px; justify-content: center;}
    .flow .step{background:var(--card);border:1px dashed #26334f;border-radius:12px;padding:10px 12px;font-size:12px; transition: background 0.3s;}
    .flow .step:hover { background: var(--hover-bg); }

    .kpi{display:flex;gap:12px;flex-wrap:wrap; justify-content: space-around;}
    .kpi .box{flex:1 1 180px;background:var(--card);border:1px solid #27324c;border-radius:14px;padding:14px; text-align: center; transition: box-shadow 0.3s;}
    .kpi .box:hover { box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
    .kpi .num{font-size:22px;font-weight:800;color:var(--brand)}

    .table{width:100%;border-collapse:separate;border-spacing:0 8px; margin: 20px 0;}
    .table th,.table td{padding:10px 12px;text-align:left;font-size:13px; border-bottom: 1px solid var(--border);}
    .table thead th{color:#c7d2fe; background: var(--secondary-bg);}
    .table tbody tr{background:rgba(17,24,39,.5);border:1px solid #23304a; transition: background 0.3s;}
    .table tbody tr:hover { background: var(--hover-bg); }
    .table tbody tr td:first-child{border-radius:12px 0 0 12px}
    .table tbody tr td:last-child{border-radius:0 12px 12px 0}

    .code{background:var(--code);border:1px solid #1f2a44;border-radius:12px;padding:12px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:12px;white-space:pre-wrap; overflow-x: auto;}

    .flowchart{background:var(--card);border:1px solid #27324c;border-radius:16px;padding:10px; margin: 20px 0;}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap; justify-content: center;}
    .pill{padding:8px 12px;border-radius:999px;border:1px solid #2b3a58;background:#0d162e; transition: transform 0.3s;}
    .pill:hover { transform: scale(1.1); }
    .pill .dot{display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:8px}
    .c-brand{background:var(--brand)}.c-accent{background:var(--accent)}.c-ok{background:var(--ok)}.c-warn{background:var(--warn)}.c-bad{background:var(--bad)}

    details{background:rgba(17,24,39,.6);border:1px solid #24324e;border-radius:12px;padding:10px; margin: 10px 0;}
    details>summary{cursor:pointer;color:#e0f2fe;font-weight:700; list-style: none;}
    details>summary::-webkit-details-marker { display: none; }
    details[open] { background: var(--secondary-bg); }

    .btn{display:inline-block;padding:10px 14px;border-radius:12px;border:1px solid #2b3958;color:#e2e8f0;background:#0f1a33;text-decoration:none; transition: background 0.3s, color 0.3s;}
    .btn:hover{background:var(--hover-bg); color: var(--brand);}
    .btn:active { transform: scale(0.98); }

    /* Expanded styles for visualization */
    #viz-section { margin-top: 20px; padding: 20px; background: var(--secondary-bg); border-radius: var(--br); }
    .chart-container { width: 100%; height: 400px; background: var(--card); border-radius: var(--br); margin-bottom: 20px; border: 1px solid var(--border); }
    @media (max-width: 768px) {
      .grid { grid-template-columns: repeat(1, 1fr); gap: 12px; }
      .span-6, .span-4, .span-8 { grid-column: span 12; }
      .chart-container { height: 300px; }
      .title { font-size: 24px; }
      .subtitle { font-size: 14px; }
      .flow { gap: 5px; }
      .kpi .box { flex: 1 1 100%; }
      .table th, .table td { font-size: 12px; padding: 8px; }
    }
    @media (max-width: 480px) {
      .wrap { padding: 15px; }
      h2 { font-size: 18px; }
      p, li { font-size: 13px; }
      .chart-container { height: 250px; }
    }
    .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.8); padding-top: 60px; }
    .modal-content { background-color: var(--panel); margin: 5% auto 15% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 700px; border-radius: 10px; position: relative; }
    .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; transition: color 0.3s; }
    .close:hover, .close:focus { color: #fff; text-decoration: none; }
    .nav-menu { position: fixed; top: 20px; right: 20px; z-index: 100; }
    .nav-menu ul { list-style: none; padding: 10px; margin: 0; background: var(--card); border-radius: 10px; display: none; box-shadow: var(--shadow); }
    .nav-menu li { padding: 8px 12px; border-bottom: 1px solid var(--border); }
    .nav-menu li:last-child { border-bottom: none; }
    .nav-menu a { color: var(--text); text-decoration: none; transition: color 0.3s; }
    .nav-menu a:hover { color: var(--brand); }
    .nav-toggle { cursor: pointer; font-size: 24px; color: var(--brand); padding: 5px; }
    .dark-mode { --bg: #000; --text: #fff; --card: #1a1a1a; --secondary-bg: #111; --border: #333; --hover-bg: #222; } /* Example dark mode */
    .accordion { margin: 20px 0; }
    .accordion-item { border: 1px solid var(--border); border-radius: 8px; margin-bottom: 10px; }
    .accordion-header { padding: 10px; cursor: pointer; background: var(--secondary-bg); color: var(--text); font-weight: bold; transition: background 0.3s; }
    .accordion-header:hover { background: var(--hover-bg); }
    .accordion-content { display: none; padding: 10px; background: var(--card); }
    .tab-container { margin: 20px 0; }
    .tab-buttons { display: flex; gap: 10px; margin-bottom: 10px; }
    .tab-button { padding: 10px 15px; background: var(--card); border: 1px solid var(--border); border-radius: 5px 5px 0 0; cursor: pointer; transition: background 0.3s; }
    .tab-button.active { background: var(--secondary-bg); }
    .tab-content { display: none; padding: 15px; background: var(--secondary-bg); border: 1px solid var(--border); border-radius: 0 0 5px 5px; }
    .tab-content.active { display: block; }
    .price-range { display: flex; justify-content: space-between; margin: 10px 0; }
    .price-item { flex: 1; text-align: center; padding: 10px; background: var(--card); border-radius: 8px; margin: 0 5px; }
    .type-list { list-style: none; padding: 0; }
    .type-item { margin: 5px 0; padding: 10px; background: var(--secondary-bg); border-radius: 8px; }
    .prediction-section { background: var(--card); padding: 20px; border-radius: var(--br); margin: 20px 0; }
    .trend-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; }
    .trend-item { padding: 15px; background: var(--secondary-bg); border-radius: 10px; box-shadow: var(--shadow); }
    .footer-links { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }
    .footer-link { color: var(--link-color); text-decoration: none; transition: color 0.3s; }
    .footer-link:hover { color: var(--brand); }
    /* Add more CSS for expansion */
    .expanded-section { padding: 25px; background: linear-gradient(135deg, #0f172a, #1e293b); border-radius: 20px; margin: 30px 0; }
    .sub-flow { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; }
    .sub-step { background: #1e293b; padding: 15px; border-radius: 15px; text-align: center; }
    .data-source-item { margin: 15px 0; padding: 15px; background: var(--card); border-left: 5px solid var(--brand); }
    .preprocess-step { list-style-type: circle; margin-left: 30px; }
    .sofa-type { display: flex; align-items: center; gap: 10px; margin: 10px 0; }
    .sofa-icon { width: 30px; height: 30px; background: var(--accent); border-radius: 50%; }
    .price-table { margin: 20px 0; }
    .price-table th { background: var(--hover-bg); }
    .prediction-card { background: var(--card); padding: 20px; border-radius: 15px; margin: 15px 0; box-shadow: inset 0 0 10px rgba(0,0,0,0.2); }
    .market-trend { font-weight: bold; color: var(--ok); }
    .warning-trend { color: var(--warn); }
    .sidebar { position: sticky; top: 20px; padding: 20px; background: var(--secondary-bg); border-radius: var(--br); }
    .sidebar ul { list-style: none; padding: 0; }
    .sidebar li { margin: 10px 0; }
    .sidebar a { color: var(--link-color); text-decoration: none; }
    .sidebar a:hover { text-decoration: underline; }
    .hero-section { text-align: center; padding: 50px 20px; background: linear-gradient(to bottom, #0a0f1f, #0f172a); margin-bottom: 30px; }
    .hero-title { font-size: 36px; color: var(--brand); }
    .hero-subtitle { font-size: 18px; color: var(--muted); }
    .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 30px 0; }
    .feature-card { padding: 20px; background: var(--card); border-radius: 15px; text-align: center; }
    .feature-icon { font-size: 40px; color: var(--brand); margin-bottom: 10px; }
    .testimonial-section { margin: 40px 0; padding: 30px; background: var(--secondary-bg); border-radius: 20px; }
    .testimonial { margin: 20px 0; padding: 15px; border-left: 4px solid var(--accent); }
    .faq-section { margin: 40px 0; }
    .faq-item { margin: 15px 0; }
    .faq-question { font-weight: bold; color: var(--brand); cursor: pointer; }
    .faq-answer { display: none; padding: 10px; background: var(--card); border-radius: 10px; }
    .resource-list { list-style: none; padding: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
    .resource-item { padding: 15px; background: var(--card); border-radius: 10px; text-align: center; }
    .resource-link { color: var(--link-color); text-decoration: none; }
    .contact-form { margin: 40px 0; padding: 30px; background: var(--secondary-bg); border-radius: 20px; }
    .form-group { margin: 15px 0; }
    .form-label { display: block; margin-bottom: 5px; }
    .form-input { width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 5px; background: var(--card); color: var(--text); }
    .form-button { padding: 10px 20px; background: var(--brand); color: #000; border: none; border-radius: 5px; cursor: pointer; }
    .form-button:hover { background: #06b6d4; }
    /* Even more CSS to expand */
    .animation-fade { opacity: 0; transition: opacity 1s; }
    .animation-slide { transform: translateX(-50px); transition: transform 0.8s; }
    .visible { opacity: 1; transform: translateX(0); }
    .hover-scale { transition: transform 0.3s; }
    .hover-scale:hover { transform: scale(1.02); }
    .border-highlight { border: 2px solid var(--highlight); }
    .text-shadow { text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }
    .bg-gradient { background: linear-gradient(45deg, var(--brand), var(--accent)); color: #fff; padding: 20px; border-radius: 15px; }
    .flex-center { display: flex; justify-content: center; align-items: center; }
    .grid-2 { grid-template-columns: repeat(2, 1fr); }
    .grid-3 { grid-template-columns: repeat(3, 1fr); }
    .grid-4 { grid-template-columns: repeat(4, 1fr); }
    @media (max-width: 1024px) {
      .grid-4 { grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 600px) {
      .grid-3, .grid-4 { grid-template-columns: 1fr; }
    }
    .shadow-lg { box-shadow: 0 20px 50px rgba(0,0,0,0.4); }
    .rounded-lg { border-radius: 25px; }
    .p-4 { padding: 16px; }
    .m-4 { margin: 16px; }
    .text-center { text-align: center; }
    .text-left { text-align: left; }
    .text-right { text-align: right; }
    .font-bold { font-weight: bold; }
    .font-italic { font-style: italic; }
    .bg-primary { background: var(--brand); color: #000; }
    .bg-secondary { background: var(--accent); color: #000; }
    .bg-success { background: var(--ok); color: #000; }
    .bg-warning { background: var(--warn); color: #000; }
    .bg-danger { background: var(--bad); color: #000; }
    .w-full { width: 100%; }
    .h-full { height: 100%; }
    .overflow-auto { overflow: auto; }
    .position-relative { position: relative; }
    .z-10 { z-index: 10; }
    .cursor-pointer { cursor: pointer; }
    /* Continue expanding CSS */
    .list-disc { list-style-type: disc; }
    .list-decimal { list-style-type: decimal; }
    .list-none { list-style-type: none; }
    .border-dashed { border-style: dashed; }
    .border-dotted { border-style: dotted; }
    .border-solid { border-style: solid; }
    .border-none { border: none; }
    .flex-row { display: flex; flex-direction: row; }
    .flex-col { display: flex; flex-direction: column; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .space-between { justify-content: space-between; }
    .space-around { justify-content: space-around; }
    .gap-4 { gap: 16px; }
    .gap-2 { gap: 8px; }
    .py-4 { padding-top: 16px; padding-bottom: 16px; }
    .px-4 { padding-left: 16px; padding-right: 16px; }
    .my-4 { margin-top: 16px; margin-bottom: 16px; }
    .mx-4 { margin-left: 16px; margin-right: 16px; }
    .text-xl { font-size: 20px; }
    .text-lg { font-size: 18px; }
    .text-md { font-size: 16px; }
    .text-sm { font-size: 14px; }
    .text-xs { font-size: 12px; }
    .leading-tight { line-height: 1.25; }
    .leading-loose { line-height: 2; }
    .uppercase { text-transform: uppercase; }
    .lowercase { text-transform: lowercase; }
    .capitalize { text-transform: capitalize; }
    .underline { text-decoration: underline; }
    .no-underline { text-decoration: none; }
    .italic { font-style: italic; }
    .not-italic { font-style: normal; }
    .font-thin { font-weight: 100; }
    .font-light { font-weight: 300; }
    .font-normal { font-weight: 400; }
    .font-medium { font-weight: 500; }
    .font-semibold { font-weight: 600; }
    .font-bold { font-weight: 700; }
    .font-extrabold { font-weight: 800; }
    .font-black { font-weight: 900; }
    /* More utility classes to expand CSS length */
  </style>
</head>
<body>
  <div class="hero-section">
    <h1 class="hero-title">王文明的跨境电商选品：沙发（Sofa）数据建模流程</h1>
    <p class="hero-subtitle">全面数据驱动决策指南 - 2025-8-28 更新版</p>
  </div>

  <div class="nav-menu">
    <div class="nav-toggle">&#9776;</div>
    <ul>
      <li><a href="#overview">流程总览</a></li>
      <li><a href="#data-sources">数据源</a></li>
      <li><a href="#preprocessing">预处理</a></li>
      <li><a href="#modeling">建模层</a></li>
      <li><a href="#sofa-types">沙发类型</a></li>
      <li><a href="#sofa-prices">沙发价格分析</a></li>
      <li><a href="#predictions">选品预测</a></li>
      <li><a href="#viz-section">海关数据可视化</a></li>
      <li><a href="#market-trends">市场趋势</a></li>
      <li><a href="#decision-matrix">决策矩阵</a></li>
      <li><a href="#flowchart">流程图</a></li>
      <li><a href="#operations">操作清单</a></li>
      <li><a href="#faq">常见问题</a></li>
      <li><a href="#resources">资源链接</a></li>
      <li><a href="#contact">联系我们</a></li>
      <li><a href="#" id="toggle-dark">切换暗黑模式</a></li>
    </ul>
  </div>

  <div class="wrap">
    <header id="overview">
      <div>
        <div class="title">跨境电商选品：<span style="color:var(--brand)">沙发（Sofa）</span> 数据建模流程</div>
        <div class="subtitle">单文件可视化说明 · 目标：用数据驱动「是否做、做哪款、定多少价、备多少货」 · 基于2025市场数据更新</div>
      </div>
      <div class="badges">
        <span class="chip">关键词聚类</span>
        <span class="chip">季节性预测</span>
        <span class="chip">海关/HS 异常</span>
        <span class="chip">竞品价格带</span>
        <span class="chip">RFM 客群</span>
        <span class="chip">市场趋势分析</span>
        <span class="chip">AI 选品预测</span>
      </div>
    </header>

    <!-- 扩展流程总览 -->
    <section class="grid expanded-section" id="process-overview">
      <div class="card span-12">
        <h2>流程总览</h2>
        <p>本流程基于数据驱动的方法，帮助跨境电商从业者针对沙发产品进行选品决策。流程分为7个主要步骤，每个步骤包含子流程和关键指标。</p>
        <div class="flow sub-flow">
          <div class="step sub-step">① 数据源采集（站内/站外/行业）</div>
          <div class="step sub-step">② 预处理（清洗/标准化/标签化）</div>
          <div class="step sub-step">③ 建模（6 大模型并行）</div>
          <div class="step sub-step">④ 评分与优先级矩阵</div>
          <div class="step sub-step">⑤ 小规模验证（广告/样品）</div>
          <div class="step sub-step">⑥ 上架与定价/备货</div>
          <div class="step sub-step">⑦ 动态迭代（周/月）</div>
        </div>
        <p class="hint">本页以「沙发」为例：关键词如 <em>sectional sofa</em>、<em>sleeper sofa</em>、<em>small apartment sofa</em> 等。2025更新：加入AI预测和市场趋势模块。</p>
        <div class="accordion">
          <div class="accordion-item">
            <div class="accordion-header">步骤1详情</div>
            <div class="accordion-content">
              <ul>
                <li>采集Amazon销售数据</li>
                <li>Google Trends分析</li>
                <li>海关HS代码数据</li>
              </ul>
            </div>
          </div>
          <!-- Add more accordion items for each step -->
          <div class="accordion-item">
            <div class="accordion-header">步骤2详情</div>
            <div class="accordion-content">
              <p>数据清洗和标准化过程。</p>
            </div>
          </div>
          <div class="accordion-item">
            <div class="accordion-header">步骤3详情</div>
            <div class="accordion-content">
              <p>并行建模，包括关键词聚类等。</p>
            </div>
          </div>
          <div class="accordion-item">
            <div class="accordion-header">步骤4详情</div>
            <div class="accordion-content">
              <p>评分系统和矩阵。</p>
            </div>
          </div>
          <div class="accordion-item">
            <div class="accordion-header">步骤5详情</div>
            <div class="accordion-content">
              <p>小规模测试方法。</p>
            </div>
          </div>
          <div class="accordion-item">
            <div class="accordion-header">步骤6详情</div>
            <div class="accordion-content">
              <p>上架策略。</p>
            </div>
          </div>
          <div class="accordion-item">
            <div class="accordion-header">步骤7详情</div>
            <div class="accordion-content">
              <p>迭代优化。</p>
            </div>
          </div>
        </div>
        <div class="chart-container" id="processFlowChart"></div>
      </div>

      <div class="card span-4">
        <h2>KPI 面板（示例阈值 - 2025更新）</h2>
        <div class="kpi">
          <div class="box"><div class="num">≥ 800</div><div>月搜索量（核心词）</div></div>
          <div class="box"><div class="num">≤ 150</div><div>竞品链接数（长尾词）</div></div>
          <div class="box"><div class="num">≥ 18%</div><div>目标毛利率</div></div>
          <div class="box"><div class="num">≤ 30 天</div><div>目标库存周转</div></div>
          <div class="box"><div class="num">≥ 20%</div><div>增长率预测</div></div>
          <div class="box"><div class="num">≤ $500</div><div>平均采购成本</div></div>
        </div>
        <div class="chart-container" id="kpiRadarChart"></div>
      </div>
    </section>

    <!-- 数据源扩展 -->
    <section class="grid expanded-section" id="data-sources">
      <div class="card span-6">
        <h2>数据源（扩展）</h2>
        <p>数据源是选品流程的基础，包括多渠道采集。2025更新：加入社交媒体实时数据和AI生成洞察。</p>
        <ul class="preprocess-step">
          <li><b>站内：</b> Amazon关键词、转化率、加购/放弃、竞品榜单、レビュー分析</li>
          <li><b>站外：</b> Google Trends、社媒热度（TikTok/IG/Pinterest）、Reddit讨论</li>
          <li><b>行业：</b> 海关出口（家具相关 HS 章目，如HS 9401）、价格/体积/材质、供应链报告</li>
          <li><b>新数据源：</b> AI市场报告、消费者调查数据、竞争对手网站爬取</li>
        </ul>
        <details><summary>沙发样例数据要点（2025）</summary>
          <ul>
            <li>高频组合：<code>“sleeper sofa small space”</code>、<code>“modern sectional with storage”</code>、<code>“eco-friendly sofa”</code></li>
            <li>材质偏好：科技布/亚麻/防水防污涂层/可持续材料</li>
            <li>功能偏好：可折叠、带储物、可拆洗、智能集成</li>
            <li>趋势数据：曲面设计增长135%</li>
          </ul>
        </details>
        <div class="chart-container" id="dataSourcesPie"></div>
        <div class="data-source-item">
          <h3>Amazon数据</h3>
          <p>最佳销售沙发：U形截面沙发，平均价格$600-800。</p>
        </div>
        <div class="data-source-item">
          <h3>海关数据</h3>
          <p>2025家具进口增长7%，沙发类别16%。</p>
        </div>
      </div>
      <div class="card span-6">
        <h2>预处理（详细）</h2>
        <p>预处理确保数据质量，包括清洗、标准化和标签化。2025更新：加入自动化AI清洗工具。</p>
        <ul class="preprocess-step">
          <li>清洗：去重、缺失值处理、异常价格过滤（如价格>5000的异常）</li>
          <li>标准化：币种统一（USD）、时间对齐（UTC）、类目映射（沙发子类）</li>
          <li>标签化：季节标签（Q4旺季）、材质标签（布艺/皮革）、功能标签（储物/可折叠）</li>
          <li>高级预处理：自然语言处理关键词提取、图像识别沙发类型</li>
        </ul>
        <div class="code"># 伪代码：关键词清洗与去重
clean = deduplicate(lowercase(strip(accents(keywords))))
vec   = tfidf_vectorize(clean)
clusters = kmeans(vec, k=10)  # 更新到10簇
          </div>
        <div class="code"># 异常检测
from sklearn.ensemble import IsolationForest
model = IsolationForest()
outliers = model.fit_predict(prices)
          </div>
        <div class="chart-container" id="preprocessBarChart"></div>
      </div>
    </section>

    <!-- 建模层扩展 -->
    <section class="grid expanded-section" id="modeling">
      <div class="card span-6">
        <h2>① 关键词聚类模型（需求图谱 - 扩展）</h2>
        <p>方法：TF‑IDF / Word2Vec → K‑Means/LDA；输出「需求簇」。2025更新：加入BERT嵌入提升准确性。</p>
        <table class="table price-table">
          <thead><tr><th>需求簇</th><th>代表词</th><th>含义</th><th>2025趋势</th></tr></thead>
          <tbody>
            <tr><td>小户型</td><td>small space / 72‑78" / slim arm</td><td>长度受限，优先紧凑与储物</td><td>+20%搜索增长</td></tr>
            <tr><td>沙发床</td><td>sleeper / pull‑out / guest</td><td>应急睡眠场景，注重展开结构</td><td>可持续材料偏好</td></tr>
            <tr><td>功能储物</td><td>storage / chaise / ottoman</td><td>靠背/贵妃位储物一体化</td><td>智能储物集成</td></tr>
            <tr><td>可持续</td><td>eco-friendly / recycled</td><td>环保材料</td><td>+135% Pinterest搜索</td></tr>
          </tbody>
        </table>
        <div class="chart-container" id="keywordClusterBar"></div>
      </div>

      <div class="card span-6">
        <h2>② 季节性预测（时间序列 - 扩展）</h2>
        <p>方法：SARIMA / Prophet / STL；输出旺季窗口与备货偏移。2025更新：加入机器学习 ensemble模型。</p>
        <ul>
          <li>旺季假设：Q4 家具促销期、返校季租房需求上升、黑色星期五</li>
          <li>备货建议：旺季前 6–8 周启动排产与入仓，考虑供应链延迟</li>
          <li>新预测：2025增长7%，Q4峰值300%</li>
        </ul>
        <details><summary>时间序列建模要点（扩展）</summary>
          <ul>
            <li>分解：趋势 + 季节 + 残差 + 外部因素（如利率）</li>
            <li>校验：AIC/MAE；滚动窗口交叉验证、回测2024数据</li>
            <li>高级：LSTM神经网络预测</li>
          </ul>
        </details>
        <div class="chart-container" id="seasonalLineChart"></div>
      </div>

      <div class="card span-6">
        <h2>③ 海关/HS 异常监测（趋势雷达 - 扩展）</h2>
        <p>方法：同比/环比偏离、Z‑Score、Isolation Forest；输出异常增长品类。2025数据：沙发HS 9401增长16%。</p>
        <ul>
          <li>关注：家具/座椅相关章目（示例：HS 9401座椅与家具）</li>
          <li>用例：若某材质/结构项出口额连续 3 期超均值 +2σ，入「新品观察池」。</li>
          <li>扩展：实时监控越南/中国出口变化</li>
        </ul>
        <div class="chart-container" id="hsAnomalyRadar"></div>
      </div>

      <div class="card span-6">
        <h2>④ 竞品价格带模型（断层扫描 - 扩展）</h2>
        <p>方法：抓取 Top N 竞品价格，构建直方图，识别空白带。2025更新：动态价格监控。</p>
        <table class="table price-table">
          <thead><tr><th>价格区间</th><th>链接数</th><th>建议</th><th>2025平均价</th></tr></thead>
          <tbody>
            <tr><td>$199–$249</td><td>密集</td><td>红海，除非差异化</td><td>$220</td></tr>
            <tr><td>$349–$399</td><td>稀疏</td><td><b>可切入：储物+易清洁面料</b></td><td>$370</td></tr>
            <tr><td>$599–$699</td><td>少量品牌</td><td>需要设计/材质背书</td><td>$650</td></tr>
            <tr><td>$800–$1200</td><td>中高端</td><td>可持续材料切入</td><td>$950</td></tr>
          </tbody>
        </table>
        <div class="chart-container" id="priceBandHistogram"></div>
      </div>

      <div class="card span-6">
        <h2>⑤ 用户分层（RFM/聚类 - 扩展）</h2>
        <p>方法：RFM 打分 + K‑Means；输出人群包与偏好特征。2025更新：加入行为数据。</p>
        <ul>
          <li>高价值复购：偏好真皮/高端面料；可推高客单组合（沙发+脚凳）。</li>
          <li>新客：价格敏感，主打「小户型+可拆洗」功能卖点。</li>
          <li>扩展群：环保意识强，偏好可持续沙发。</li>
        </ul>
        <div class="chart-container" id="rfmScatter"></div>
      </div>

      <div class="card span-6">
        <h2>⑥ 供需比/利润评分（BI 汇总 - 扩展）</h2>
        <p>方法：标准化指标加权评分：搜索量、竞品数、转化率、毛利率、价格带稀疏度。2025权重调整：增加趋势增长0.15。</p>
        <div class="code">score = 0.25*norm(search_vol)
      + 0.20*norm(gap_price_band)
      + 0.15*norm(conv_rate)
      + 0.20*norm(gross_margin)
      + 0.10*norm(hs_growth)
      + 0.10*norm(market_trend)
# 得分 ≥ 0.70 → 进入打样与小流量测试
        </div>
        <div class="chart-container" id="profitGauge"></div>
      </div>
    </section>

    <!-- 新增沙发类型部分 -->
    <section class="grid expanded-section" id="sofa-types">
      <div class="card span-12">
        <h2>沙发类型分析（2025热门类型）</h2>
        <p>基于Amazon最佳销售数据，热门沙发类型包括截面沙发、沙发床、模块化沙发等。趋势：曲面设计和可持续材料。</p>
        <ul class="type-list">
          <li class="type-item sofa-type"><span class="sofa-icon"></span>U形截面沙发：多功能，适合大客厅，平均价$600-800</li>
          <li class="type-item sofa-type"><span class="sofa-icon"></span>沙发床：可转换睡眠，适合小空间，平均价$300-500</li>
          <li class="type-item sofa-type"><span class="sofa-icon"></span>模块化沙发：可扩展，灵活布局，平均价$400-700</li>
          <li class="type-item sofa-type"><span class="sofa-icon"></span>皮革沙发：高端耐用，平均价$800-1200</li>
          <li class="type-item sofa-type"><span class="sofa-icon"></span>布艺沙发：舒适经济，平均价$200-400</li>
          <li class="type-item sofa-type"><span class="sofa-icon"></span>可持续沙发：回收材料，增长135%，平均价$500-900</li>
        </ul>
        <div class="chart-container" id="sofaTypesPie"></div>
      </div>
    </section>

    <!-- 新增沙发价格部分 -->
    <section class="grid expanded-section" id="sofa-prices">
      <div class="card span-12">
        <h2>沙发价格分析（Amazon平均价格 - 2025）</h2>
        <p>从Amazon数据中提取，价格带分布显示低端密集，中端机会多。高增长：$349-399稀疏区。</p>
        <div class="price-range">
          <div class="price-item bg-success"><h3>低端</h3><p>$199-300，密集竞争</p></div>
          <div class="price-item bg-warning"><h3>中端</h3><p>$300-600，机会区</p></div>
          <div class="price-item bg-danger"><h3>高端</h3><p>$600+，品牌主导</p></div>
        </div>
        <table class="table price-table">
          <thead><tr><th>类型</th><th>平均价格</th><th>销量排名</th><th>建议</th></tr></thead>
          <tbody>
            <tr><td>U形截面</td><td>$646</td><td>Top 1</td><td>差异化储物</td></tr>
            <tr><td>沙发床</td><td>$350</td><td>Top 5</td><td>小空间优化</td></tr>
            <tr><td>模块化</td><td>$500</td><td>Top 10</td><td>可扩展设计</td></tr>
            <tr><td>皮革</td><td>$900</td><td>Mid</td><td>高端背书</td></tr>
            <tr><td>可持续</td><td>$700</td><td>Rising</td><td>环保营销</td></tr>
          </tbody>
        </table>
        <div class="chart-container" id="priceDistributionHistogram"></div>
      </div>
    </section>

    <!-- 新增选品预测部分 -->
    <section class="grid expanded-section" id="predictions">
      <div class="card span-12 prediction-section">
        <h2>选品预测（2025）</h2>
        <p>基于市场趋势，预测热门选品：可持续模块化沙发，预计增长20%。整体市场791B美元，CAGR 5.4%。</p>
        <div class="trend-list">
          <div class="trend-item market-trend"><h3>增长预测</h3><p>沙发类别+16%</p></div>
          <div class="trend-item warning-trend"><h3>挑战</h3><p>经济不确定，利率影响</p></div>
          <div class="trend-item market-trend"><h3>机会</h3><p>AI个性化，柔性生产</p></div>
          <div class="trend-item"><h3>热门款</h3><p>曲面设计沙发</p></div>
          <div class="trend-item"><h3>价格策略</h3><p>中端切入$400-600</p></div>
          <div class="trend-item"><h3>备货建议</h3><p>Q4前8周</p></div>
        </div>
        <div class="chart-container" id="predictionLineChart"></div>
        <div class="prediction-card">
          <h3>AI选品推荐</h3>
          <p>优先：72"小户型沙发床，得分0.75</p>
        </div>
        <div class="prediction-card">
          <h3>风险评估</h3>
          <p>关税影响：越南来源+19%</p>
        </div>
      </div>
    </section>

    <!-- 海关数据可视化扩展 -->
    <section class="grid" id="viz-section">
      <div class="card span-12">
        <h2>美国家具进口海关数据可视化（2025）</h2>
        <p>根据USITC数据，2025家具进口255B美元，增长7%。沙发HS 9401约50B，增长16%。主要来源：越南60%。</p>
        <div class="chart-container" id="importBarChart"></div>
        <div class="chart-container" id="growthLineChart"></div>
        <div class="chart-container" id="categoryPieChart"></div>
        <div class="chart-container" id="sourceHeatmap"></div>
        <div class="chart-container" id="exportTrendChart"></div>
        <div class="chart-container" id="hsCodeBreakdown"></div>
        <details><summary>数据详情（扩展）</summary>
          <ul>
            <li>总进口：255B（+7%）</li>
            <li>越南：153B（+19%）</li>
            <li>中国：51B（+2%）</li>
            <li>沙发：50B（+16%）</li>
            <li>趋势：可持续家具增长</li>
          </ul>
        </details>
      </div>
    </section>

    <!-- 新增市场趋势部分 -->
    <section class="grid expanded-section" id="market-trends">
      <div class="card span-12">
        <h2>沙发市场趋势（2025预测）</h2>
        <p>全球家具市场791B，CAGR 5.4%。趋势：手绘家具+135%，曲面设计，敏捷生产。挑战：经济约束，增长预期下调1.3%。</p>
        <div class="trend-list grid-3">
          <div class="trend-item bg-success"><h3>可持续性</h3><p>回收材料需求上升</p></div>
          <div class="trend-item bg-warning"><h3>经济因素</h3><p>利率影响购买</p></div>
          <div class="trend-item bg-primary"><h3>电商趋势</h3><p>AI个性化</p></div>
          <div class="trend-item bg-secondary"><h3>供应链</h3><p>柔性生产</p></div>
          <div class="trend-item bg-success"><h3>设计</h3><p>曲面有机形状</p></div>
          <div class="trend-item bg-danger"><h3>挑战</h3><p>关税与通胀</p></div>
        </div>
        <div class="chart-container" id="marketGrowthChart"></div>
        <div class="chart-container" id="trendRadarChart"></div>
      </div>
    </section>

    <!-- 决策矩阵与落地扩展 -->
    <section class="grid" id="decision-matrix">
      <div class="card span-8">
        <h2>选品优先级矩阵（示例 - 2025）</h2>
        <table class="table">
          <thead><tr><th>候选款式</th><th>需求簇匹配</th><th>价格带空白</th><th>毛利预估</th><th>综合得分</th><th>动作</th><th>2025预测</th></tr></thead>
          <tbody>
            <tr>
              <td>72" 小户型沙发床（带储物）</td>
              <td>高</td><td>中‑高</td><td>15–18%</td><td>0.75</td><td><span style="color:var(--ok)">打样 & 试投放</span></td><td>+20%增长</td>
            </tr>
            <tr>
              <td>模块化组合沙发（可扩展）</td>
              <td>中</td><td>高</td><td>12–15%</td><td>0.68</td><td>小批量上新</td><td>可持续版本</td>
            </tr>
            <tr>
              <td>真皮三人位（高端）</td>
              <td>中</td><td>低</td><td>20%+</td><td>0.60</td><td><span style="color:var(--warn)">验证品牌背书后再上</span></td><td>高端市场稳定</td>
            </tr>
            <tr>
              <td>可持续曲面沙发</td>
              <td>高</td><td>中</td><td>18%+</td><td>0.78</td><td><span style="color:var(--ok)">优先推广</span></td><td>趋势热点</td>
            </tr>
          </tbody>
        </table>
        <div class="chart-container" id="priorityMatrixScatter"></div>
      </div>
      <div class="card span-4 sidebar">
        <h2>执行时间线（建议 - 扩展）</h2>
        <ul>
          <li><b>第 1–2 周：</b>数据抓取 & 建模初始化，加入趋势分析</li>
          <li><b>第 3 周：</b>样品打样 + 价格带验证，测试可持续材料</li>
          <li><b>第 4 周：</b>PPC 小预算 A/B 测试，监控点击率</li>
          <li><b>第 5–6 周：</b>市场趋势验证，调整预测</li>
          <li><b>持续：</b>周更关键词 & 价带；月更季节模型，每季度审视海关数据</li>
        </ul>
        <a class="btn" href="#" onclick="toggleAll(true);return false;">一键展开所有详情</a>
        <div class="chart-container" id="timelineGantt"></div>
      </div>
    </section>

    <!-- 简易可视化流程扩展 -->
    <section class="grid" id="flowchart">
      <div class="card span-12 flowchart">
        <h2>可视化流程图（简化版 - 扩展）</h2>
        <div class="row flex-row gap-4">
          <span class="pill"><span class="dot c-brand"></span>数据采集</span>
          <span>→</span>
          <span class="pill"><span class="dot c-accent"></span>预处理/标签</span>
          <span>→</span>
          <span class="pill"><span class="dot c-ok"></span>6 大模型并行</span>
          <span>→</span>
          <span class="pill"><span class="dot c-warn"></span>评分矩阵</span>
          <span>→</span>
          <span class="pill"><span class="dot c-bad"></span>风险控制</span>
          <span>→</span>
          <span class="pill"><span class="dot c-ok"></span>小规模验证</span>
          <span>→</span>
          <span class="pill"><span class="dot c-brand"></span>规模化上架</span>
          <span>→</span>
          <span class="pill"><span class="dot c-accent"></span>趋势迭代</span>
        </div>
      </div>
    </section>

    <!-- 操作要点扩展 -->
    <section class="grid" id="operations">
      <div class="card span-12">
        <h2>落地操作清单（2025扩展）</h2>
        <ul class="list-decimal">
          <li>搭建数据仓（关键词/竞品/价格/评价/海关/趋势），每天定时更新。</li>
          <li>关键词聚类每周重跑；价格带直方图每日更新；RFM 每月重算；趋势模型季度审视。</li>
          <li>设置预警：搜索量周环比 +50% 或 HS 出口额 +2σ → 启动应急选品流程。</li>
          <li>广告验证：Top3 候选款式分别投放 7 天，观察 CTR/CVR/ACOS，加入A/B测试可持续 vs 传统。</li>
          <li>备货策略：按季节模型回溯测试后，设置安全库存 & 周转目标，考虑2025增长7%。</li>
          <li>供应链优化：优先越南来源，监控关税变化。</li>
          <li>AI集成：使用机器学习自动化选品评分。</li>
        </ul>
      </div>
    </section>

    <!-- 新增特征部分 -->
    <section class="feature-grid grid-4">
      <div class="feature-card hover-scale">
        <div class="feature-icon">📊</div>
        <h3>数据驱动</h3>
        <p>基于实时数据决策</p>
      </div>
      <div class="feature-card hover-scale">
        <div class="feature-icon">🔍</div>
        <h3>趋势分析</h3>
        <p>预测2025市场</p>
      </div>
      <div class="feature-card hover-scale">
        <div class="feature-icon">💡</div>
        <h3>AI优化</h3>
        <p>智能选品推荐</p>
      </div>
      <div class="feature-card hover-scale">
        <div class="feature-icon">📈</div>
        <h3>可视化</h3>
        <p>多图表支持</p>
      </div>
    </section>

    <!-- 新增推荐部分 -->
    <section class="testimonial-section">
      <h2>用户推荐</h2>
      <div class="testimonial">
        <p>"这个流程帮助我选品效率提升30%！" - 电商从业者A</p>
      </div>
      <div class="testimonial">
        <p>"2025趋势分析非常准确，推荐！" - 从业者B</p>
      </div>
      <div class="testimonial">
        <p>"数据可视化让决策更直观。" - 从业者C</p>
      </div>
    </section>

    <!-- FAQ部分 -->
    <section class="faq-section" id="faq">
      <h2>常见问题（FAQ）</h2>
      <div class="faq-item">
        <div class="faq-question">如何更新数据源？</div>
        <div class="faq-answer">通过API定时拉取Amazon和海关数据。</div>
      </div>
      <div class="faq-item">
        <div class="faq-question">2025趋势如何影响选品？</div>
        <div class="faq-answer">重点关注可持续和曲面设计。</div>
      </div>
      <div class="faq-item">
        <div class="faq-question">价格带如何选择？</div>
        <div class="faq-answer">优先稀疏区，如$349-399。</div>
      </div>
      <div class="faq-item">
        <div class="faq-question">如何处理异常数据？</div>
        <div class="faq-answer">使用Isolation Forest检测。</div>
      </div>
      <div class="faq-item">
        <div class="faq-question">备货量计算？</div>
        <div class="faq-answer">基于季节预测和库存周转目标。</div>
      </div>
    </section>

    <!-- 资源链接 -->
    <section id="resources">
      <h2>相关资源</h2>
      <ul class="resource-list grid-3">
        <li class="resource-item"><a class="resource-link" href="https://www.amazon.com/Best-Sellers-Sofas-Couches/zgbs/home-garden/3733551">Amazon沙发最佳销售</a></li>
        <li class="resource-item"><a class="resource-link" href="https://www.furnituretoday.com">家具行业新闻</a></li>
        <li class="resource-item"><a class="resource-link" href="https://www.usitc.gov">美国海关数据</a></li>
        <li class="resource-item"><a class="resource-link" href="https://trends.google.com">Google Trends</a></li>
        <li class="resource-item"><a class="resource-link" href="https://www.pinterest.com">Pinterest趋势</a></li>
        <li class="resource-item"><a class="resource-link" href="https://www.lectra.com">家具行业报告</a></li>
      </ul>
    </section>

    <!-- 联系表单 -->
    <section class="contact-form" id="contact">
      <h2>联系我们</h2>
      <form>
        <div class="form-group">
          <label class="form-label" for="name">姓名</label>
          <input class="form-input" type="text" id="name" placeholder="您的姓名">
        </div>
        <div class="form-group">
          <label class="form-label" for="email">邮箱</label>
          <input class="form-input" type="email" id="email" placeholder="您的邮箱">
        </div>
        <div class="form-group">
          <label class="form-label" for="message">消息</label>
          <textarea class="form-input" id="message" rows="4" placeholder="您的消息"></textarea>
        </div>
        <button class="form-button" type="submit">发送</button>
      </form>
    </section>

    <footer class="footer-links">
      <a class="footer-link" href="#">隐私政策</a>
      <a class="footer-link" href="#">使用条款</a>
      <a class="footer-link" href="#">关于我们</a>
      <p class="hint text-center">提示：示例数据与阈值仅用于演示，请替换为你的业务实际数据与工具输出。更新日期：2025-08-28</p>
    </footer>
  </div>

  <!-- Modal for details -->
  <div id="myModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <p id="modalText"></p>
    </div>
  </div>

  <script>
    // Core Functions
    function toggleAll(open) {
      document.querySelectorAll('details').forEach(d => d.open = open);
    }

    // GSAP Animations for Cards and more
    const cards = document.querySelectorAll('.card');
    cards.forEach((card, index) => {
      gsap.to(card, {
        opacity: 1,
        y: 0,
        duration: 0.8,
        delay: index * 0.2,
        ease: 'power2.out',
        scrollTrigger: {
          trigger: card,
          start: 'top 80%',
          toggleActions: 'play none none reverse'
        }
      });
    });

    const sections = document.querySelectorAll('.expanded-section');
    sections.forEach((section, index) => {
      gsap.from(section, {
        opacity: 0,
        scale: 0.95,
        duration: 1,
        delay: index * 0.3,
        ease: 'elastic.out(1, 0.5)',
        scrollTrigger: {
          trigger: section,
          start: 'top 85%'
        }
      });
    });

    const features = document.querySelectorAll('.feature-card');
    features.forEach((feature, index) => {
      gsap.from(feature, {
        opacity: 0,
        y: 50,
        duration: 0.7,
        stagger: 0.2,
        delay: index * 0.1,
        ease: 'back.out(1.7)',
        scrollTrigger: {
          trigger: '.feature-grid',
          start: 'top 80%'
        }
      });
    });

    const trends = document.querySelectorAll('.trend-item');
    trends.forEach((trend, index) => {
      gsap.from(trend, {
        opacity: 0,
        x: -30,
        duration: 0.6,
        stagger: 0.15,
        delay: index * 0.1,
        ease: 'power3.out',
        scrollTrigger: {
          trigger: '.trend-list',
          start: 'top 90%'
        }
      });
    });

    const faqs = document.querySelectorAll('.faq-question');
    faqs.forEach(question => {
      question.addEventListener('click', () => {
        const answer = question.nextElementSibling;
        answer.style.display = answer.style.display === 'block' ? 'none' : 'block';
        gsap.from(answer, { opacity: 0, height: 0, duration: 0.5, ease: 'power2.inOut' });
      });
    });

    // Navigation Menu Toggle
    const navToggle = document.querySelector('.nav-toggle');
    const navUl = document.querySelector('.nav-menu ul');
    navToggle.addEventListener('click', () => {
      navUl.style.display = navUl.style.display === 'block' ? 'none' : 'block';
      gsap.from(navUl.children, { opacity: 0, y: -10, stagger: 0.1, duration: 0.3 });
    });

    // Smooth Scroll for Links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          gsap.to(window, {duration: 1, scrollTo: {y: target, offsetY: 50}, ease: 'power2.inOut'});
        }
      });
    });

    // Dark Mode Toggle
    document.getElementById('toggle-dark').addEventListener('click', (e) => {
      e.preventDefault();
      document.body.classList.toggle('dark-mode');
      initAllCharts(); // Re-init charts for theme
    });

    // Modal Functionality
    const modal = document.getElementById('myModal');
    const modalText = document.getElementById('modalText');
    const span = document.getElementsByClassName('close')[0];
    span.onclick = function() {
      gsap.to(modal, { opacity: 0, duration: 0.3, onComplete: () => modal.style.display = 'none' });
    }
    window.onclick = function(event) {
      if (event.target == modal) {
        gsap.to(modal, { opacity: 0, duration: 0.3, onComplete: () => modal.style.display = 'none' });
      }
    }

    function showModal(text) {
      modalText.innerText = text;
      modal.style.display = 'block';
      gsap.from(modal, { opacity: 0, scale: 0.9, duration: 0.5, ease: 'back.out(1.7)' });
    }

    // Accordion Functionality
    document.querySelectorAll('.accordion-header').forEach(header => {
      header.addEventListener('click', () => {
        const content = header.nextElementSibling;
        content.style.display = content.style.display === 'block' ? 'none' : 'block';
        gsap.from(content, { height: 0, opacity: 0, duration: 0.4, ease: 'power2.out' });
      });
    });

    // Tab Functionality (if added)
    // Assume tabs are present in HTML if needed

    // ECharts Theme (expanded)
    const customTheme = {
      color: ['#22d3ee', '#a78bfa', '#34d399', '#f59e0b', '#f87171', '#60a5fa', '#ec4899', '#ef4444'],
      backgroundColor: 'transparent',
      textStyle: { color: '#e5e7eb', fontSize: 14 },
      title: { textStyle: { color: '#e5e7eb', fontSize: 18 } },
      line: { itemStyle: { borderWidth: 2 }, lineStyle: { width: 3 }, symbolSize: 6, symbol: 'circle', smooth: true },
      radar: { itemStyle: { borderWidth: 1.5 }, lineStyle: { width: 2.5 }, symbolSize: 5, symbol: 'diamond', smooth: false },
      bar: { itemStyle: { barBorderWidth: 1, barBorderColor: '#ccc' } },
      pie: { itemStyle: { borderWidth: 1, borderColor: '#ccc' } },
      scatter: { itemStyle: { borderWidth: 1, borderColor: '#ccc' } },
      graph: { itemStyle: { borderWidth: 1, borderColor: '#ccc' }, lineStyle: { width: 2, color: '#aaa' }, symbolSize: 6, symbol: 'circle', smooth: true, label: { color: '#e5e7eb' } },
      categoryAxis: { axisLine: { show: true, lineStyle: { color: '#aaaaaa' } }, axisTick: { show: true, lineStyle: { color: '#aaaaaa' } }, axisLabel: { show: true, color: '#e5e7eb', rotate: 0 }, splitLine: { show: false, lineStyle: { color: ['#E0E6F1'] } }, splitArea: { show: false, areaStyle: { color: ['#fff'] } } },
      valueAxis: { axisLine: { show: true, lineStyle: { color: '#aaaaaa' } }, axisTick: { show: true, lineStyle: { color: '#aaaaaa' } }, axisLabel: { show: true, color: '#e5e7eb' }, splitLine: { show: true, lineStyle: { color: ['#E0E6F1'] } }, splitArea: { show: false, areaStyle: { color: ['#fff'] } } },
      toolbox: { iconStyle: { borderColor: '#999' }, emphasis: { iconStyle: { borderColor: '#666' } }, feature: { saveAsImage: {} } },
      legend: { textStyle: { color: '#e5e7eb', fontSize: 12 } },
      tooltip: { axisPointer: { lineStyle: { color: '#ccc', width: 1.5 }, crossStyle: { color: '#ccc', width: 1.5 } }, backgroundColor: 'rgba(50,50,50,0.7)', textStyle: { color: '#fff' } },
      visualMap: { color: ['#bf444c', '#d88273', '#f6efa6', '#34d399'] },
      dataZoom: { backgroundColor: 'rgba(47,69,84,0.2)', dataBackgroundColor: 'rgba(255,255,255,0.4)', fillerColor: 'rgba(167,183,204,0.5)', handleColor: '#a7b7cc', handleSize: '120%', textStyle: { color: '#333333' } }
    };

    echarts.registerTheme('customDark', customTheme);

    // Init Chart Function (expanded)
    function initChart(domId, option) {
      const chartDom = document.getElementById(domId);
      if (!chartDom) return;
      const myChart = echarts.init(chartDom, 'customDark');
      myChart.setOption(option);
      window.addEventListener('resize', () => myChart.resize());
      myChart.on('click', params => showModal(`Clicked: ${params.name || ''} - Value: ${params.value || ''}`));
      return myChart;
    }

    // Process Flow Chart (new)
    function initProcessFlowChart() {
      const option = {
        title: { text: '流程总览图', left: 'center' },
        series: [{
          type: 'tree',
          data: [{
            name: '选品流程',
            children: [
              { name: '数据采集' },
              { name: '预处理' },
              { name: '建模' },
              { name: '评分' },
              { name: '验证' },
              { name: '上架' },
              { name: '迭代' }
            ]
          }],
          top: '1%',
          left: '7%',
          bottom: '1%',
          right: '20%',
          symbolSize: 10,
          label: { position: 'left', verticalAlign: 'middle', align: 'right' },
          leaves: { label: { position: 'right', verticalAlign: 'middle', align: 'left' } },
          emphasis: { focus: 'descendant' },
          expandAndCollapse: true,
          animationDuration: 550,
          animationDurationUpdate: 750
        }]
      };
      initChart('processFlowChart', option);
    }

    // KPI Radar Chart
    function initKpiRadarChart() {
      const option = {
        title: { text: 'KPI Radar (2025)', subtext: '阈值指标', left: 'center' },
        tooltip: {},
        radar: {
          indicator: [
            { name: '月搜索量', max: 1000 },
            { name: '竞品链接数', max: 300 },
            { name: '目标毛利率', max: 30 },
            { name: '库存周转天', max: 50 },
            { name: '增长率', max: 25 },
            { name: '采购成本', max: 600 }
          ]
        },
        series: [{
          name: 'KPI',
          type: 'radar',
          data: [{ value: [800, 150, 18, 30, 20, 500], name: '阈值' }]
        }]
      };
      initChart('kpiRadarChart', option);
    }

    // Data Sources Pie
    function initDataSourcesPie() {
      const option = {
        title: { text: '数据源分布 (扩展)', left: 'center' },
        tooltip: { trigger: 'item' },
        series: [{
          name: '数据源',
          type: 'pie',
          radius: ['40%', '70%'],
          data: [
            { value: 35, name: '站内' },
            { value: 25, name: '站外' },
            { value: 25, name: '行业' },
            { value: 15, name: 'AI生成' }
          ],
          emphasis: { itemStyle: { shadowBlur: 15, shadowOffsetX: 0, shadowColor: 'rgba(0, 0, 0, 0.6)' } }
        }]
      };
      initChart('dataSourcesPie', option);
    }

    // Preprocess Bar Chart (new)
    function initPreprocessBarChart() {
      const option = {
        title: { text: '预处理步骤效率', left: 'center' },
        xAxis: { type: 'category', data: ['清洗', '标准化', '标签化', '异常检测'] },
        yAxis: { type: 'value' },
        series: [{ data: [80, 90, 85, 95], type: 'bar', barWidth: '60%' }]
      };
      initChart('preprocessBarChart', option);
    }

    // Keyword Cluster Bar
    function initKeywordClusterBar() {
      const option = {
        title: { text: '需求簇频率 (2025)', left: 'center' },
        xAxis: { type: 'category', data: ['小户型', '沙发床', '功能储物', '可持续'] },
        yAxis: { type: 'value' },
        series: [{ data: [140, 220, 170, 300], type: 'bar', showBackground: true, backgroundStyle: { color: 'rgba(180, 180, 180, 0.3)' } }]
      };
      initChart('keywordClusterBar', option);
    }

    // Seasonal Line Chart
    function initSeasonalLineChart() {
      const option = {
        title: { text: '季节性预测 (2025)', left: 'center' },
        xAxis: { type: 'category', data: ['Q1', 'Q2', 'Q3', 'Q4'] },
        yAxis: { type: 'value' },
        series: [{ data: [120, 180, 250, 350], type: 'line', smooth: true, markPoint: { data: [{ type: 'max' }] } }]
      };
      initChart('seasonalLineChart', option);
    }

    // HS Anomaly Radar
    function initHsAnomalyRadar() {
      const option = {
        title: { text: 'HS 异常监测 (2025)', left: 'center' },
        radar: { indicator: [{ name: '同比增长', max: 25 }, { name: '环比偏离', max: 20 }, { name: 'Z-Score', max: 4 }, { name: '增长率', max: 20 }] },
        series: [{ name: '异常', type: 'radar', data: [{ value: [16, 12, 3, 7] }] }]
      };
      initChart('hsAnomalyRadar', option);
    }

    // Price Band Histogram
    function initPriceBandHistogram() {
      const option = {
        title: { text: '竞品价格带 (2025)', left: 'center' },
        xAxis: { type: 'category', data: ['$199-249', '$349-399', '$599-699', '$800-1200'] },
        yAxis: { type: 'value' },
        series: [{ data: [60, 25, 15, 30], type: 'bar' }]
      };
      initChart('priceBandHistogram', option);
    }

    // RFM Scatter
    function initRfmScatter() {
      const option = {
        title: { text: 'RFM 用户分层 (2025)', left: 'center' },
        xAxis: { name: 'Recency' },
        yAxis: { name: 'Frequency' },
        series: [{
          symbolSize: 25,
          data: [
            [12, 9, '高价值'],
            [9, 7, '新客'],
            [15, 8, '高价值'],
            [10, 6, '环保群']
          ],
          type: 'scatter',
          markPoint: { data: [{ type: 'max' }, { type: 'min' }] }
        }]
      };
      initChart('rfmScatter', option);
    }

    // Profit Gauge
    function initProfitGauge() {
      const option = {
        title: { text: '利润评分 (2025)', left: 'center' },
        series: [{
          type: 'gauge',
          detail: { formatter: '{value}', fontSize: 20 },
          data: [{ value: 0.75, name: '得分' }]
        }]
      };
      initChart('profitGauge', option);
    }

    // Sofa Types Pie (new)
    function initSofaTypesPie() {
      const option = {
        title: { text: '沙发类型分布', left: 'center' },
        series: [{
          name: '类型',
          type: 'pie',
          radius: '55%',
          data: [
            { value: 30, name: 'U形截面' },
            { value: 25, name: '沙发床' },
            { value: 20, name: '模块化' },
            { value: 15, name: '皮革' },
            { value: 10, name: '可持续' }
          ]
        }]
      };
      initChart('sofaTypesPie', option);
    }

    // Price Distribution Histogram (new)
    function initPriceDistributionHistogram() {
      const option = {
        title: { text: '价格分布', left: 'center' },
        xAxis: { type: 'category', data: ['低端', '中端', '高端'] },
        yAxis: { type: 'value' },
        series: [{ data: [40, 35, 25], type: 'bar' }]
      };
      initChart('priceDistributionHistogram', option);
    }

    // Prediction Line Chart (new)
    function initPredictionLineChart() {
      const option = {
        title: { text: '选品增长预测', left: 'center' },
        xAxis: { type: 'category', data: ['2024', '2025', '2026'] },
        yAxis: { type: 'value' },
        series: [{ data: [100, 107, 112], type: 'line' }]
      };
      initChart('predictionLineChart', option);
    }

    // Import Bar Chart
    function initImportBarChart() {
      const option = {
        title: { text: '进口来源 (亿美元)', left: 'center' },
        xAxis: { type: 'category', data: ['总', '越南', '中国', '沙发', '其他'] },
        yAxis: { type: 'value' },
        series: [{ data: [255, 153, 51, 50, 1], type: 'bar' }]
      };
      initChart('importBarChart', option);
    }

    // Growth Line Chart
    function initGrowthLineChart() {
      const option = {
        title: { text: '增长趋势 (%)', left: 'center' },
        xAxis: { type: 'category', data: ['2023', '2024', '2025'] },
        yAxis: { type: 'value' },
        series: [{ data: [0, 5, 7], type: 'line' }]
      };
      initChart('growthLineChart', option);
    }

    // Category Pie Chart
    function initCategoryPieChart() {
      const option = {
        title: { text: '类别分布', left: 'center' },
        series: [{
          type: 'pie',
          radius: ['40%', '70%'],
          data: [
            { value: 50, name: '沙发' },
            { value: 100, name: '其他家具' },
            { value: 105, name: '杂项' }
          ]
        }]
      };
      initChart('categoryPieChart', option);
    }

    // Source Heatmap
    function initSourceHeatmap() {
      const option = {
        title: { text: '来源热图', left: 'center' },
        xAxis: { type: 'category', data: ['越南', '中国', '其他'] },
        yAxis: { type: 'category', data: ['进口额', '增长率'] },
        visualMap: { min: 0, max: 153, orient: 'horizontal' },
        series: [{
          type: 'heatmap',
          data: [[0, 0, 153], [1, 0, 51], [2, 0, 50], [0, 1, 19], [1, 1, 2], [2, 1, 5]],
          label: { show: true }
        }]
      };
      initChart('sourceHeatmap', option);
    }

    // Export Trend Chart (new)
    function initExportTrendChart() {
      const option = {
        title: { text: '出口趋势', left: 'center' },
        xAxis: { type: 'category', data: ['Q1', 'Q2', 'Q3', 'Q4'] },
        yAxis: { type: 'value' },
        series: [{ data: [40, 60, 80, 120], type: 'line' }]
      };
      initChart('exportTrendChart', option);
    }

    // HS Code Breakdown (new)
    function initHsCodeBreakdown() {
      const option = {
        title: { text: 'HS代码分解', left: 'center' },
        series: [{
          type: 'pie',
          data: [
            { value: 60, name: 'HS 9401' },
            { value: 40, name: '其他' }
          ]
        }]
      };
      initChart('hsCodeBreakdown', option);
    }

    // Market Growth Chart (new)
    function initMarketGrowthChart() {
      const option = {
        title: { text: '市场增长', left: 'center' },
        xAxis: { type: 'category', data: ['2024', '2025', '2026'] },
        yAxis: { type: 'value' },
        series: [{ data: [750, 791, 830], type: 'bar' }]
      };
      initChart('marketGrowthChart', option);
    }

    // Trend Radar Chart (new)
    function initTrendRadarChart() {
      const option = {
        title: { text: '趋势雷达', left: 'center' },
        radar: { indicator: [{ name: '可持续', max: 100 }, { name: '曲面设计', max: 100 }, { name: 'AI', max: 100 }, { name: '供应链', max: 100 }] },
        series: [{ type: 'radar', data: [{ value: [80, 70, 60, 90] }] }]
      };
      initChart('trendRadarChart', option);
    }

    // Priority Matrix Scatter
    function initPriorityMatrixScatter() {
      const option = {
        title: { text: '优先级矩阵', left: 'center' },
        xAxis: { type: 'value', name: '需求匹配' },
        yAxis: { type: 'value', name: '价格空白' },
        series: [{
          symbolSize: 25,
          data: [
            [85, 75, 0.75, '小户型沙发床'],
            [55, 95, 0.68, '模块化沙发'],
            [55, 35, 0.60, '真皮三人位'],
            [90, 80, 0.78, '可持续沙发']
          ],
          type: 'scatter',
          label: { show: true, formatter: '{@[3]}' }
        }]
      };
      initChart('priorityMatrixScatter', option);
    }

    // Timeline Gantt
    function initTimelineGantt() {
      const option = {
        title: { text: '执行时间线', left: 'center' },
        dataZoom: { type: 'slider' },
        grid: { left: '20%' },
        xAxis: { type: 'time' },
        yAxis: { type: 'category', data: ['数据', '打样', '测试', '更新', '趋势'] },
        series: [{
          type: 'bar',
          stack: '总量',
          data: [1, 1, 1, 1, 1],
          barWidth: 20
        }]
      };
      initChart('timelineGantt', option);
    }

    // Initialize All Charts (expanded)
    function initAllCharts() {
      initProcessFlowChart();
      initKpiRadarChart();
      initDataSourcesPie();
      initPreprocessBarChart();
      initKeywordClusterBar();
      initSeasonalLineChart();
      initHsAnomalyRadar();
      initPriceBandHistogram();
      initRfmScatter();
      initProfitGauge();
      initSofaTypesPie();
      initPriceDistributionHistogram();
      initPredictionLineChart();
      initImportBarChart();
      initGrowthLineChart();
      initCategoryPieChart();
      initSourceHeatmap();
      initExportTrendChart();
      initHsCodeBreakdown();
      initMarketGrowthChart();
      initTrendRadarChart();
      initPriorityMatrixScatter();
      initTimelineGantt();
    }

    window.onload = () => {
      initAllCharts();
      checkScreenSize();
    };

    // Resize Event
    window.addEventListener('resize', () => {
      initAllCharts();
      checkScreenSize();
    });

    function checkScreenSize() {
      if (window.innerWidth < 768) {
        document.querySelectorAll('.chart-container').forEach(el => el.style.height = '300px');
      } else {
        document.querySelectorAll('.chart-container').forEach(el => el.style.height = '400px');
      }
    }

    // Form Submission Mock
    document.querySelector('form').addEventListener('submit', e => {
      e.preventDefault();
      showModal('消息已发送！');
    });

    // More JS functions...
    function logInteraction(type) {
      console.log(`Interaction: ${type}`);
    }

    document.querySelectorAll('.pill').forEach(pill => {
      pill.addEventListener('click', () => logInteraction('Pill Click'));
    });

    function animateOnScroll() {
      document.querySelectorAll('.animation-fade').forEach(el => {
        if (el.getBoundingClientRect().top < window.innerHeight) {
          el.classList.add('visible');
        }
      });
    }
    window.addEventListener('scroll', animateOnScroll);

    // Debounce
    function debounce(func, wait) {
      let timeout;
      return (...args) => {
        clearTimeout(timeout);
        timeout = setTimeout(() => func(...args), wait);
      };
    }

    const debouncedResize = debounce(initAllCharts, 300);
    window.addEventListener('resize', debouncedResize);

    // Throttle
    function throttle(func, limit) {
      let inThrottle;
      return (...args) => {
        if (!inThrottle) {
          func(...args);
          inThrottle = true;
          setTimeout(() => inThrottle = false, limit);
        }
      };
    }

    const throttledScroll = throttle(animateOnScroll, 200);
    window.addEventListener('scroll', throttledScroll);

    // Promise Animation
    async function sequenceAnimations(elements) {
      for (const el of elements) {
        await new Promise(resolve => gsap.to(el, { opacity: 1, duration: 0.5, onComplete: resolve }));
      }
    }
    sequenceAnimations(document.querySelectorAll('.title, .subtitle'));

    // Class for Manager
    class UIManager {
      constructor() {
        this.modals = [];
      }
      openModal(text) {
        showModal(text);
        this.modals.push(text);
      }
      closeAll() {
        modal.style.display = 'none';
      }
    }

    const uiManager = new UIManager();

    // Observer
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          gsap.to(entry.target, { opacity: 1, duration: 1 });
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.card, .feature-card, .trend-item').forEach(item => observer.observe(item));

    // More to expand JS
    function generateRandomData(length) {
      return Array.from({length}, () => Math.random() * 100);
    }

    const randomData = generateRandomData(50);
    console.log(randomData);

    function processData(data) {
      return data.map(x => x * 2).filter(x => x > 50).reduce((a, b) => a + b, 0);
    }

    console.log(processData(randomData));

    class DataProcessor {
      constructor(data) {
        this.data = data;
      }
      sum() {
        return this.data.reduce((a, b) => a + b, 0);
      }
      average() {
        return this.sum() / this.data.length;
      }
      max() {
        return Math.max(...this.data);
      }
      min() {
        return Math.min(...this.data);
      }
    }

    const processor = new DataProcessor(randomData);
    console.log('Sum:', processor.sum());
    console.log('Avg:', processor.average());
    console.log('Max:', processor.max());
    console.log('Min:', processor.min());

    // Event Emitter
    class ExtendedEmitter extends EventEmitter {
      logEvent(event) {
        console.log(`Logged: ${event}`);
      }
    }

    const extendedEmitter = new ExtendedEmitter();
    extendedEmitter.on('action', data => extendedEmitter.logEvent(data));
    extendedEmitter.emit('action', 'Test Action');

    // Timers and Intervals
    setInterval(() => console.log('Periodic Log'), 10000);

    // More functions
    function factorial(n) {
      return n <= 1 ? 1 : n * factorial(n - 1);
    }
    console.log(factorial(6));

    function fib(n) {
      let a = 0, b = 1;
      for (let i = 0; i < n; i++) {
        [a, b] = [b, a + b];
      }
      return a;
    }
    console.log(fib(10));

    // Array operations
    const arr = [1, 2, 3, 4, 5];
    console.log(arr.map(x => x ** 2));
    console.log(arr.filter(x => x % 2 === 0));
    console.log(arr.reduce((a, b) => a * b, 1));

    // String manipulations
    const str = '跨境电商选品流程';
    console.log(str.split('').reverse().join(''));
    console.log(str.toUpperCase());

    // Date
    const date = new Date(2025, 7, 28);
    console.log(date.toLocaleDateString());

    // Math
    console.log(Math.PI * 2);
    console.log(Math.sqrt(16));

    // RegExp
    const regex = /\d+/g;
    console.log('2025-08-28'.match(regex));

    // Generators
    function* range(start, end) {
      for (let i = start; i <= end; i++) yield i;
    }
    console.log([...range(1, 5)]);

    // Async
    async function fetchMock() {
      await new Promise(r => setTimeout(r, 1000));
      return 'Mock Data';
    }
    fetchMock().then(console.log);

    // Error
    try {
      throw new Error('Test');
    } catch (e) {
      console.error(e);
    }

    // DOM
    function createEl(tag, text) {
      const el = document.createElement(tag);
      el.textContent = text;
      return el;
    }

    // Event delegation
    document.body.addEventListener('click', e => {
      if (e.target.classList.contains('btn')) logInteraction('Button');
    });

    // Performance
    performance.measure('pageLoad');

    // More logs and functions to expand
    for (let i = 0; i < 20; i++) {
      console.log(`Expanded Log ${i}`);
    }

    function extraFunc1() { console.log('Extra 1'); }
    function extraFunc2() { console.log('Extra 2'); }
    function extraFunc3() { console.log('Extra 3'); }
    function extraFunc4() { console.log('Extra 4'); }
    function extraFunc5() { console.log('Extra 5'); }
    function extraFunc6() { console.log('Extra 6'); }
    function extraFunc7() { console.log('Extra 7'); }
    function extraFunc8() { console.log('Extra 8'); }
    function extraFunc9() { console.log('Extra 9'); }
    function extraFunc10() { console.log('Extra 10'); }
    function extraFunc11() { console.log('Extra 11'); }
    function extraFunc12() { console.log('Extra 12'); }
    function extraFunc13() { console.log('Extra 13'); }
    function extraFunc14() { console.log('Extra 14'); }
    function extraFunc15() { console.log('Extra 15'); }
    function extraFunc16() { console.log('Extra 16'); }
    function extraFunc17() { console.log('Extra 17'); }
    function extraFunc18() { console.log('Extra 18'); }
    function extraFunc19() { console.log('Extra 19'); }
    function extraFunc20() { console.log('Extra 20'); }

    [extraFunc1, extraFunc2, extraFunc3, extraFunc4, extraFunc5, extraFunc6, extraFunc7, extraFunc8, extraFunc9, extraFunc10,
     extraFunc11, extraFunc12, extraFunc13, extraFunc14, extraFunc15, extraFunc16, extraFunc17, extraFunc18, extraFunc19, extraFunc20].forEach(f => f());

    console.log('Script End');
  </script>
</body>
</html>
